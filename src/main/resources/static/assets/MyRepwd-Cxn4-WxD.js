import{d as v,r as n,c,a as o,k as a,v as g,h as u,i as E,l as V,I as y,E as b,_ as M}from"./index-DeSWxAP-.js";const I={class:"my-repwd-container"},x=v({__name:"MyRepwd",setup(R){const p=n(),e=n({old_pwd:"",new_pwd:"",re_pwd:""}),m=[{required:!0,message:"请输入密码",trigger:"blur"},{min:3,message:"密码长度应大于3个字符",trigger:["blur","change"]}],w=n({old_pwd:m,new_pwd:m,re_pwd:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator(d,l,r){l!==e.value.new_pwd?r(new Error("两次输入的密码不一致")):r()}}]});function _(){var d;(d=p.value)==null||d.validate(async l=>{l&&(await y(e.value),b.success("修改成功！"),e.value.new_pwd=e.value.re_pwd=e.value.old_pwd="")})}return(d,l)=>{const r=u("ElInput"),s=u("ElFormItem"),i=u("ElButton"),f=u("ElForm");return E(),c("div",I,[o(f,{onSubmit:g(_,["prevent"]),ref_key:"formRef",ref:p,"label-width":"auto",model:e.value,rules:w.value},{default:a(()=>[o(s,{label:"旧密码",prop:"old_pwd"},{default:a(()=>[o(r,{size:"large",modelValue:e.value.old_pwd,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.old_pwd=t),modelModifiers:{trim:!0},type:"password","show-password":""},null,8,["modelValue"])]),_:1}),o(s,{label:"新密码",prop:"new_pwd"},{default:a(()=>[o(r,{size:"large",modelValue:e.value.new_pwd,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.new_pwd=t),modelModifiers:{trim:!0},type:"password","show-password":""},null,8,["modelValue"])]),_:1}),o(s,{label:"重复新密码",prop:"re_pwd"},{default:a(()=>[o(r,{size:"large",modelValue:e.value.re_pwd,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.re_pwd=t),modelModifiers:{trim:!0},type:"password","show-password":""},null,8,["modelValue"])]),_:1}),o(s,{label:" "},{default:a(()=>[o(i,{type:"primary","native-type":"submit"},{default:a(()=>l[3]||(l[3]=[V("保存")])),_:1})]),_:1})]),_:1},8,["model","rules"])])}}}),B=M(x,[["__scopeId","data-v-96f04fdc"]]);export{B as default};
